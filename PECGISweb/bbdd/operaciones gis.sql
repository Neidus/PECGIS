

SELECT geom from polygons_table where gid=5;

SELECT geom from lines_table where attribute='r10';

SELECT ST_Intersection(lines_table.geom, polygons_table.geom)
from lines_table, polygons_table 
where lines_table.attribute='l10' and polygons_table.attribute='r10';

SELECT * FROM polygons_table, lines_table WHERE ST_Intersetcs (polygons_table.geom, lines_table.geom)

SELECT ST_Length ("0102000020E6100000030000000256C56A0D6254C02358FBAF680F43C0709AA91A887652C0D4572FA602A946C073E915CFD97350C0150C3C0010F547C0")


CREATE TABLE intersection AS SELECT ST_Intersection(lines_table.geom, polygons_table.geom)
from lines_table, polygons_table 
where lines_table.attribute='l10' and polygons_table.attribute='r10';

SELECT ST_Length(ST_Intersection(lines_table.geom, polygons_table.geom))
from lines_table, polygons_table 
where lines_table.attribute='l10' and polygons_table.attribute='r10';

SELECT ST_Length(rutas.geom)
from rutas 
where rutas.gid_serial=4;



SELECT ST_Length(ST_Intersection(rutas.geom, zonas.geom)), zonas.peligrosidad
from rutas, zonas
where rutas.gid_serial=1 and zonas.gid_serial=2;


CREATE TABLE public.multipolygons (
  gid integer NOT NULL DEFAULT(),
  geom geometry(MultiPolygon,4326),
  CONSTRAINT multipolygons_pkey PRIMARY KEY (gid)
 )
  WITH (
  OIDS=FALSE
);


INSERT INTO intersection (st_intersection) VALUES (ST_Collect(ARRAY(SELECT geom FROM polygons_table)));


SELECT ST_Length(ST_Intersection(lines_table.geom, intersection.st_intersection))
from lines_table, intersection
where lines_table.attribute='l10' and intersection.st_intersection='0106000020E61000000800000001030000000100000003000000000000000000F03F0000000000000040000000000000084000000000000010400000000000002040000000000000224001030000000100000004000000000000000000F03F000000000000004000000000000014400000000000001C4000000000000020C000000000000022C0000000000000F03F00000000000000400103000000010000000500000000000000C0CE56C010E18C8FE5BA46400000000080F353C09B4F4F0243EB484000000000404551C095C70D3FF9B9454000000000800F56C0C0094D5EF158404000000000C0CE56C010E18C8FE5BA464001030000000100000008000000C85DACE761793CC06E07A171F1B441406A8D94F35B0C38C014B4CADCBB3F4140B6E6E7C9F02137C05ECDE212CBD53E409EF2E14CAFF23AC082BB6B4EAD643C40EC4B352344083AC0B5E3B2E8B51A4040D8345335102540C0F0C541A1D96840403E82AC88E6F941C0F6428300AA604440C85DACE761793CC06E07A171F1B4414001030000000100000005000000AEC9889A5DE641C0286560D83C182C4067ED762399C846C088AC4F699D1E1140855EBEFFAAA743C0A0CA4EB6002507C0282EC4DB67563AC0909AFEA252B10940AEC9889A5DE641C0286560D83C182C4001030000000100000006000000A0A6BFA8542C1E40C9977DC571123E40A8E92F2A153B3B40E708C5A183A937405C90DC5380253C4000716DDAE4BA1140688A5F12216530409047B613A40019C0A4321DED345A20C034621878184F3D40A0A6BFA8542C1E40C9977DC571123E40010300000001000000050000003428479A08B63BC06CD004751C9B22C0D80E42E3E2992B40A8AF5E4C05A239C08E7B1D2F3E9B35C0CC9DE787E7C03DC0855EBEFFAAEF46C02C71345D28752BC03428479A08B63BC06CD004751C9B22C001030000000100000005000000888EAF97C91D54C06E8D94F35BF441C09A0574B53AB956C080045911CDC34CC07617EB79588251C02034411DC79E4BC00423DC70F2334FC0C1632929C10145C0888EAF97C91D54C06E8D94F35BF441C0';




